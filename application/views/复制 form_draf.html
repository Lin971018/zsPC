<!DOCTYPE html>
<html lang="en">

	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta charset="utf-8" />
		<title>表单草稿 - 中山建设监理建筑工程文档协同管理系统</title>

		<meta name="description" content="overview &amp; stats" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

        <!-- bootstrap & fontawesome -->
        <link rel="stylesheet" href="<?php echo base_url()."assets/css/bootstrap.min.css"?>" />
        <link rel="stylesheet" href="<?php echo base_url()."assets/font-awesome/4.5.0/css/font-awesome.min.css"?>" />

		<!-- page specific plugin styles -->
		<link rel="stylesheet" href="<?php echo base_url()."assets/css/bootstrap-duallistbox.min.css"?>" />
		<link rel="stylesheet" href="<?php echo base_url()."assets/css/bootstrap-multiselect.min.css"?>" />
		<link rel="stylesheet" href="<?php echo base_url()."assets/css/select2.min.css"?>" />
		<link rel="stylesheet" href="<?php echo base_url()."assets/css/jquery-ui.min.css"?>" />

		<!-- text fonts -->
        <link rel="stylesheet" href="<?php echo base_url()."assets/css/fonts.googleapis.com.css"?>" />

        <!-- ace styles -->
        <link rel="stylesheet" href="<?php echo base_url()."assets/css/ace.min.css"?>" class="ace-main-stylesheet" id="main-ace-style" />

        <!--[if lte IE 9]>
            <link rel="stylesheet" href="<?php echo base_url()."assets/css/ace-part2.min.css"?>" class="ace-main-stylesheet" />
        <![endif]-->
        <link rel="stylesheet" href="<?php echo base_url()."assets/css/ace-skins.min.css"?>" />
        <link rel="stylesheet" href="<?php echo base_url()."assets/css/ace-rtl.min.css"?>" />

        <!--[if lte IE 9]>
          <link rel="stylesheet" href="<?php echo base_url()."assets/css/ace-ie.min.css"?>" />
        <![endif]-->

        <!-- inline styles related to this page -->

        <!-- ace settings handler -->
        <script src="<?php echo base_url()."assets/js/ace-extra.min.js"?>"</script>></script>

        <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

        <!--[if lte IE 8]>
        <script src="<?php echo base_url()."assets/js/html5shiv.min.js"?>"></script>
        <script src="<?php echo base_url()."assets/js/respond.min.js"?>"></script>
        <![endif]-->
	</head>

	<body class="no-skin">
		<!--Top Begin-->
        <?php $this->load->view("pageTop.html"); ?>
        <!--Top End-->

		<div class="main-container ace-save-state" id="main-container">
			<script type="text/javascript">
				try {
					ace.settings.loadState('main-container')
				} catch(e) {}
			</script>

			<!--LeftTree Begin-->
            <?php $this->load->view("pageLeft.html"); ?>
            <!--LeftTree End-->

			<div class="main-content">
			    <div class="col-xs-6">
                    <div class="widget-box">
                        <div class="widget-header widget-header-flat">
                            <h4 class="widget-title smaller">
                                <span>表单列表</span>
                            </h4>
                        </div>
                        <div class="widget-body">
                            <div class="widget-main">
                                <div>
                                    <button class="btn btn-primary" name="" onclick="CheckOut('form')">查看</button>
                                    &nbsp;&nbsp;&nbsp;
                                    <button class="btn btn-primary" name="" onclick="ChangeSta('form',1)">提交</button>
                                    &nbsp;&nbsp;&nbsp;
                                    <button class="btn btn-primary" name="" onclick="ChangeSta('form',4)">归集</button>
                                    &nbsp;&nbsp;&nbsp;
                                    <button class="btn btn-primary" name="" onclick="PrintOut('form')">打印</button>
                                    <br /><br />
									<table id="dynamic-table" class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
												<th class="center">
													<label class="pos-rel">
														<input type="checkbox" class="ace"/>
														<span class="lbl"></span>
													</label>
												</th>
												<th hidden="hidden">#</th>
												<th>#</th>
												<th>表单名</th>
												<th>提交时间</th>
											</tr>
										</thead>
										<tbody>
											<?php 
											    $i = 0;
											    foreach($table_mes as $v):
											    $i++;
											    ?>
											<tr onclick="alert('<?= $v['id']?>')">
												<td class="center">
													<label class="pos-rel">
														<input type="checkbox" class="ace" />
														<span class="lbl"></span>
													</label>
												</td>
												<td hidden="hidden">
													<a href="#"><?= $v['id']?></a>
												</td>
												<td>
                                                    <a href="#"><?= $i ?></a>
                                                </td>
												<td><?= $v['TabNam']?></td>
												<td>
												    
												</td>
											</tr>
                     						<?php endforeach?>
										</tbody>
									</table>
								</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--model part begin-->
				<?php $this->load->view("form_attr.html"); ?>
			    <!--model part end-->
			</div>
			<!-- /.main-content -->
            
			<!--Foor Begin-->
            <?php $this->load->view("pageFoot.html"); ?>
            <!--Foot End-->
            
		</div>
		<!-- /.main-container -->

		<!-- basic scripts -->

		<!--[if !IE]> -->
		<script src="<?php echo base_url()."assets/js/jquery-2.1.4.min.js"?>"></script>

		<!-- <![endif]-->

		<!--[if IE]>
        <script src="<?php echo base_url()."assets/js/jquery-1.11.3.min.js"?>"></script>
        <![endif]-->
		<script src="<?php echo base_url()."assets/js/bootstrap.min.js"?>"></script>
		
		<!--dataTable-->
		<script src="<?php echo base_url()."assets/js/jquery.dataTables.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/jquery.dataTables.bootstrap.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/dataTables.buttons.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/buttons.flash.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/buttons.html5.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/buttons.print.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/buttons.colVis.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/dataTables.select.min.js"?>"></script>
		
		<!-- page specific plugin scripts -->
		<script src="<?php echo base_url()."assets/js/jquery.bootstrap-duallistbox.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/jquery.raty.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/bootstrap-multiselect.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/select2.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/jquery-typeahead.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/jquery-ui.min.js"?>"></script>
        <script src="<?php echo base_url()."assets/js/jquery.ui.touch-punch.min.js"?>"></script>

		<!-- ace scripts -->
		<script src="<?php echo base_url()."assets/js/ace-elements.min.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/ace.min.js"?>"></script>

		<!-- inline scripts related to this page -->
		<script src="<?php echo base_url()."assets/js/self/Show_LeftTreeA.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/self/dataTableINI.js"?>"></script>
		<script src="<?php echo base_url()."assets/js/self/MesAction.js"?>"></script>
		<script type="text/javascript">

			jQuery(function($) {
			    /*
			     * 
			     */
				var demo1 = $('select[name="duallistbox_demo1[]"]').bootstrapDualListbox({
					infoTextFiltered: '<span class="label label-purple label-lg">Filtered</span>'
				});
				var container1 = demo1.bootstrapDualListbox('getContainer');
				container1.find('.btn').addClass('btn-white btn-info btn-bold');

				/**var setRatingColors = function() {
					$(this).find('.star-on-png,.star-half-png').addClass('orange2').removeClass('grey');
					$(this).find('.star-off-png').removeClass('orange2').addClass('grey');
				}*/
				$('.rating').raty({
					'cancel': true,
					'half': true,
					'starType': 'i'
					/**,
					
					'click': function() {
						setRatingColors.call(this);
					},
					'mouseover': function() {
						setRatingColors.call(this);
					},
					'mouseout': function() {
						setRatingColors.call(this);
					}*/
				}) //.find('i:not(.star-raty)').addClass('grey');

				/*
                 * 
                 */
				//select2
				$('.select2').css('width', '200px').select2({
					allowClear: true
				})
				$('#select2-multiple-style .btn').on('click', function(e) {
					var target = $(this).find('input[type=radio]');
					var which = parseInt(target.val());
					if(which == 2) $('.select2').addClass('tag-input-style');
					else $('.select2').removeClass('tag-input-style');
				});

				/*
                 * 
                 */
				$('.multiselect').multiselect({
					enableFiltering: true,
					enableHTML: true,
					buttonClass: 'btn btn-white btn-primary',
					templates: {
						button: '<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> &nbsp;<b class="fa fa-caret-down"></b></button>',
						ul: '<ul class="multiselect-container dropdown-menu"></ul>',
						filter: '<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',
						filterClearBtn: '<span class="input-group-btn"><button class="btn btn-default btn-white btn-grey multiselect-clear-filter" type="button"><i class="fa fa-times-circle red2"></i></button></span>',
						li: '<li><a tabindex="0"><label></label></a></li>',
						divider: '<li class="multiselect-item divider"></li>',
						liGroup: '<li class="multiselect-item multiselect-group"><label></label></li>'
					}
				});

				/*
                 * typeahead.js
                 */

				//example taken from plugin's page at: https://twitter.github.io/typeahead.js/examples/
				var substringMatcher = function(strs) {
					return function findMatches(q, cb) {
						var matches, substringRegex;

						// an array that will be populated with substring matches
						matches = [];

						// regex used to determine if a string contains the substring `q`
						substrRegex = new RegExp(q, 'i');

						// iterate through the pool of strings and for any string that
						// contains the substring `q`, add it to the `matches` array
						$.each(strs, function(i, str) {
							if(substrRegex.test(str)) {
								// the typeahead jQuery plugin expects suggestions to a
								// JavaScript object, refer to typeahead docs for more info
								matches.push({
									value: str
								});
							}
						});

						cb(matches);
					}
				}

				$('input.typeahead').typeahead({
					hint: true,
					highlight: true,
					minLength: 1
				}, {
					name: 'states',
					displayKey: 'value',
					source: substringMatcher(ace.vars['US_STATES']),
					limit: 10
				});

				/*
                 * remove remaining elements
                 */

				//in ajax mode, remove remaining elements before leaving page
				$(document).one('ajaxloadstart.page', function(e) {
					$('[class*=select2]').remove();
					$('select[name="duallistbox_demo1[]"]').bootstrapDualListbox('destroy');
					$('.rating').raty('destroy');
					$('.multiselect').multiselect('destroy');
				});

			});
		</script>
	</body>

</html>